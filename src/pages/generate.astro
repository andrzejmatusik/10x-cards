---
/**
 * Generate Flashcards Page (PROTECTED)
 * Main view for AI-powered flashcard generation
 *
 * Requirements:
 * - User must be authenticated (redirects to /login if not)
 * - Allows pasting text and generating flashcard proposals
 * - User can review, edit, accept or reject proposals
 * - Saves accepted flashcards in batch to database
 */

import Layout from "@/layouts/Layout.astro";
import { GenerateFlashcardsView } from "@/components/generate/GenerateFlashcardsView";
import { TopNavBar } from "@/components/TopNavBar";
import { requireAuth } from "@/lib/auth/server-auth";

// Wymaga autentykacji - automatyczne przekierowanie na /login je≈õli brak sesji
await requireAuth(Astro);
---

<Layout title="Generuj fiszki - 10x Cards">
  <TopNavBar client:load />
  <div class="pt-16">
    <GenerateFlashcardsView client:load />
  </div>
</Layout>
